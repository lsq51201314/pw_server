package glinkd

import (
	"net"
	"pw_server/utils/byteEx"
	"pw_server/utils/octets"
)

//52 0C 00000020 00000000 FFFFFFFF
func RoleList(conn net.Conn, data []byte) {
	userid := byteEx.BytesToIntBig(data[2:6])
	index := byteEx.BytesToIntBig(data[10:14])
	if index == -1 {
		SendEnc(conn, byteEx.HexToBytes("8042843CD7BD2C217424201A44A281E000"))
		SendEnc(conn, byteEx.HexToBytes("5380C97D378787B70000200000800020A0FEA9E3C40B072B80328034802C78861006F00804C005C00041E207000019F0864F503000500807831108778D1E24BE32C220DE4C12002480A38084803DBE79D100F1EC1C01800600CF0B83B9403C6A010010E02893878040222B600AC00BC00FCB6FB000E005B5B84C245BDA15809B80F24BC34C80669E52FFE0A4B66A65FEA8867D7F483CAA5FEE370B85FEBC6669EB2FF7FF95E1CF9B0F2F2E4F2F2E80000040000114BF5A403A763C42600805FC0C17D39030091030000493C4167B2F4E09388DE1BCB8F4A40FCA7891F18030002000010103D3787C803EAD04187900CF11E8400800A78F1E739263C7800E0E8F267C59E14913019FDFEDEA180CEB4E02D11E8A5F5D8C21CF605054542319E7C8E00780"))
	} else {
		//53 11 00000000 FFFFFFFF 00000020 00000000 00
		d := new(octets.Octets)
		d.AddBytes([]byte{0x53, 0x11}, false, 0)
		d.AddBytes(byteEx.IntToBytesBig(0), false, 0)
		d.AddBytes(byteEx.IntToBytesBig(-1), false, 0)
		d.AddBytes(byteEx.IntToBytesBig(userid), false, 0)
		d.AddBytes(byteEx.IntToBytesBig(0), false, 0)
		d.AddByte(0)
		SendData(conn, d.GetBytes())
	}
}
